/*
author:		Daniel B. Kazmer (webshifted.com)
version:	1.0.2
*/
function nodeListener(e,t,n){var o=[],r=[],s=function(t){for(var n=0;n<t.length;n++)if(1===t[n].nodeType)if(t[n].matches(e))o.push(t[n]);else if(t[n].querySelectorAll(e).length>0)for(var r=t[n].querySelectorAll(e),s=0;s<r.length;s++)o.push(r[s])},d=function(t){1===t.nodeType&&t.matches(e)&&r.push(t)},u=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.length>0&&s(e.addedNodes),e.removedNodes.length>0&&d(e.removedNodes[0])}),(o.length>0||r.length>0)&&n(o,r),setTimeout(function(){o=[],r=[]},0)}),h={attributes:!0,childList:!0,characterData:!0,subtree:!0};return u.observe(t,h),u}